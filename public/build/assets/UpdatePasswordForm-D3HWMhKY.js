var b=Object.defineProperty;var y=(o,r,e)=>r in o?b(o,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[r]=e;var u=(o,r,e)=>y(o,typeof r!="symbol"?r+"":r,e);import{A as C}from"./ActionMessage-B1OvaZe4.js";import{F as S}from"./FormSection-BkugsU1D.js";import{I as F}from"./InputError-Bwl4ZAo1.js";import{C as U,W as A,A as P,c as E,w as t,o as $,E as i,b as s}from"./app-DrYLPU_X.js";import{t as N,b as _,C as O,V as B,a as v,_ as M}from"./_plugin-vue_export-helper-BUg55JK2.js";import{p as j}from"./profile-Cnk1t6Cc.js";import{V as f}from"./VTextField-GCQIZL8v.js";import{V as w,a as c}from"./VRow-DvkPIYWF.js";import"./VField-C66dwn1o.js";import"./VAvatar-CGwUysPS.js";import"./forwardRefs-DiIHdaJ1.js";import"./SectionTitle-C2PNohfj.js";import"./VCard-Dz8tKv04.js";import"./VContainer-eLTv4ox0.js";/* empty css              */var D=Object.defineProperty,T=Object.getOwnPropertyDescriptor,V=(o,r,e,a)=>{for(var n=a>1?void 0:a?T(r,e):r,l=o.length-1,p;l>=0;l--)(p=o[l])&&(n=(a?p(r,e,n):p(n))||n);return a&&n&&D(r,e,n),n};let m=class extends B{constructor(){super(...arguments);u(this,"passwordInput");u(this,"currentPasswordInput");u(this,"form",U({current_password:"",password:"",password_confirmation:""}))}async updatePassword(){var e;try{let a=await j.updatePassword(this.form);this.form.reset(),A.visit(a.redirect||"/login")}catch(a){((e=a.response)==null?void 0:e.status)===422?this.form.errors=a.response.data.errors:console.error("Unexpected error:",a),this.form.errors.password&&(this.form.reset("password","password_confirmation"),this.passwordInput.focus()),this.form.errors.current_password&&(this.form.reset("current_password"),this.currentPasswordInput.focus())}}};V([_("passwordInput")],m.prototype,"passwordInput",2);V([_("currentPasswordInput")],m.prototype,"currentPasswordInput",2);m=V([O({components:{ActionMessage:C,FormSection:S,InputError:F,VTextField:f,VBtn:v,VRow:w,VCol:c}})],m);const W=N(m);function R(o,r,e,a,n,l){const p=P("InputError"),I=P("ActionMessage"),g=P("FormSection");return $(),E(g,{onSubmitted:o.updatePassword},{title:t(()=>r[3]||(r[3]=[i(" Update Password ")])),description:t(()=>r[4]||(r[4]=[i(" Ensure your account is using a long, random password to stay secure. ")])),form:t(()=>[s(w,null,{default:t(()=>[s(c,{cols:"12"},{default:t(()=>[s(f,{id:"current_password",ref:"currentPasswordInput",modelValue:o.form.current_password,"onUpdate:modelValue":r[0]||(r[0]=d=>o.form.current_password=d),label:"Current Password",type:"password",autocomplete:"current-password"},null,8,["modelValue"]),s(p,{message:o.form.errors.current_password,class:"mt-2"},null,8,["message"])]),_:1})]),_:1}),s(w,null,{default:t(()=>[s(c,{cols:"12"},{default:t(()=>[s(f,{id:"password",ref:"passwordInput",modelValue:o.form.password,"onUpdate:modelValue":r[1]||(r[1]=d=>o.form.password=d),label:"New Password",type:"password",autocomplete:"new-password"},null,8,["modelValue"]),s(p,{message:o.form.errors.password,class:"mt-2"},null,8,["message"])]),_:1})]),_:1}),s(w,null,{default:t(()=>[s(c,{cols:"12"},{default:t(()=>[s(f,{id:"password_confirmation",modelValue:o.form.password_confirmation,"onUpdate:modelValue":r[2]||(r[2]=d=>o.form.password_confirmation=d),label:"Confirm Password",type:"password",autocomplete:"new-password"},null,8,["modelValue"]),s(p,{message:o.form.errors.password_confirmation,class:"mt-2"},null,8,["message"])]),_:1})]),_:1})]),actions:t(()=>[s(I,{on:o.form.recentlySuccessful,class:"me-3"},{default:t(()=>r[5]||(r[5]=[i(" Saved. ")])),_:1},8,["on"]),s(v,{color:"primary",variant:"elevated",type:"submit",disabled:o.form.processing},{default:t(()=>r[6]||(r[6]=[i(" Save ")])),_:1},8,["disabled"])]),_:1},8,["onSubmitted"])}const er=M(W,[["render",R]]);export{er as default};
