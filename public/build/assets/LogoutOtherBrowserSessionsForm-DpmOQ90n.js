var k=Object.defineProperty;var A=(s,o,t)=>o in s?k(s,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[o]=t;var f=(s,o,t)=>A(s,typeof o!="symbol"?o+"":o,t);import{C as I,q as M,x as L,c as O,w as e,o as m,m as i,a as p,f as c,F as x,p as F,l as S,b as r,ax as P,t as d}from"./app-55nQHNrK.js";import{A as $}from"./ActionMessage-Bct9ZT2_.js";import{A as D}from"./ActionSection-DnR7S2V-.js";import{t as N,d as T,b as U,C as j,V as K,a as y,_ as q}from"./_plugin-vue_export-helper-BkxQ5w1y.js";import{V as h}from"./VDialog-BDRwFbH1.js";import{V as B}from"./VTextField-HiXiHTac.js";import{V as v,a as V}from"./VRow-Du34Hmus.js";import{a as E}from"./VAvatar-DmRN7j2J.js";import"./index-qS4-Yaju.js";import"./SectionTitle-BvMKXVsc.js";import"./VContainer-G3jeVjVC.js";/* empty css              */import"./VCard-OJ0p7aro.js";import"./VOverlay-Dck7tMSy.js";import"./forwardRefs-B931MWyl.js";import"./VField-3MKmkEWW.js";var R=Object.defineProperty,z=Object.getOwnPropertyDescriptor,C=(s,o,t,l)=>{for(var a=l>1?void 0:l?z(o,t):o,w=s.length-1,u;w>=0;w--)(u=s[w])&&(a=(l?u(o,t,a):u(a))||a);return l&&a&&R(o,t,a),a};let g=class extends K{constructor(){super(...arguments);f(this,"sessions");f(this,"confirmingLogout",!1);f(this,"passwordInput");f(this,"form",I({password:""}))}confirmLogout(){this.confirmingLogout=!0,setTimeout(()=>this.passwordInput.focus(),250)}async logoutOtherBrowserSessions(){let t=route("other-browser-sessions.destroy");try{let l=await M.delete(t,{data:this.form});this.closeModal()}catch{this.passwordInput.focus()}finally{this.form.reset()}}closeModal(){this.confirmingLogout=!1,this.form.reset()}};C([T(Array)],g.prototype,"sessions",2);C([U("passwordInput")],g.prototype,"passwordInput",2);g=C([j({components:{ActionMessage:$,ActionSection:D,VDialog:h,VTextField:B,VBtn:y,VRow:v,VCol:V}})],g);const G=N(g),H={key:0,class:"mt-5 space-y-4"},J={class:"text-body-1 text-sm"},Q={key:0,class:"text-green-500 font-semibold"},W={key:1},X={class:"flex items-center mt-5"},Y={key:0,class:"text-red-500 text-sm mt-2"},Z={class:"mt-4 flex justify-end"};function oo(s,o,t,l,a,w){const u=L("ActionMessage"),_=L("ActionSection");return m(),O(_,null,{title:e(()=>o[2]||(o[2]=[i("Browser Sessions")])),description:e(()=>o[3]||(o[3]=[i(" Manage and log out your active sessions on other browsers and devices. ")])),content:e(()=>[o[10]||(o[10]=p("p",{class:"text-body-1"}," If necessary, you may log out of all other browser sessions. Some recent sessions are listed below. ",-1)),s.sessions.length?(m(),c("div",H,[(m(!0),c(x,null,F(s.sessions,(n,b)=>(m(),O(v,{key:b,class:"items-center"},{default:e(()=>[r(V,{cols:"1"},{default:e(()=>[r(E,null,{default:e(()=>[i(d(n.agent.is_desktop?"mdi-monitor":"mdi-cellphone"),1)]),_:2},1024)]),_:2},1024),r(V,{cols:"11"},{default:e(()=>[p("p",null,d(n.agent.platform||"Unknown")+" - "+d(n.agent.browser||"Unknown"),1),p("p",J,[i(d(n.ip_address)+" ",1),n.is_current_device?(m(),c("span",Q,"(This device)")):(m(),c("span",W,"Last active "+d(n.last_active),1))])]),_:2},1024)]),_:2},1024))),128))])):S("",!0),p("div",X,[r(y,{color:"primary",onClick:s.confirmLogout},{default:e(()=>o[4]||(o[4]=[i("Log Out Other Browser Sessions")])),_:1},8,["onClick"]),r(u,{on:s.form.recentlySuccessful,class:"ms-3"},{default:e(()=>o[5]||(o[5]=[i("Done.")])),_:1},8,["on"])]),r(h,{modelValue:s.confirmingLogout,"onUpdate:modelValue":o[1]||(o[1]=n=>s.confirmingLogout=n),"max-width":"500px"},{default:e(()=>[r(v,{class:"p-4"},{default:e(()=>[r(V,null,{default:e(()=>[o[8]||(o[8]=p("h3",null,"Log Out Other Browser Sessions",-1)),o[9]||(o[9]=p("p",{class:"mt-2"},"Please enter your password to confirm.",-1)),r(B,{ref:"passwordInput",modelValue:s.form.password,"onUpdate:modelValue":o[0]||(o[0]=n=>s.form.password=n),label:"Password",type:"password",autocomplete:"current-password",variant:"outlined",class:"mt-4",onKeyup:P(s.logoutOtherBrowserSessions,["enter"])},null,8,["modelValue","onKeyup"]),s.form.errors.password?(m(),c("p",Y,d(s.form.errors.password),1)):S("",!0),p("div",Z,[r(y,{variant:"text",onClick:s.closeModal},{default:e(()=>o[6]||(o[6]=[i("Cancel")])),_:1},8,["onClick"]),r(y,{color:"primary",loading:s.form.processing,onClick:s.logoutOtherBrowserSessions,class:"ms-3"},{default:e(()=>o[7]||(o[7]=[i(" Log Out ")])),_:1},8,["loading","onClick"])])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}const Co=q(G,[["render",oo]]);export{Co as default};
