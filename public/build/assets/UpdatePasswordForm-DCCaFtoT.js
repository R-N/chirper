var b=Object.defineProperty;var y=(o,r,a)=>r in o?b(o,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):o[r]=a;var u=(o,r,a)=>y(o,typeof r!="symbol"?r+"":r,a);import{A as C}from"./ActionMessage-Bct9ZT2_.js";import{F}from"./FormSection-Bm8ZNWce.js";import{I as S}from"./InputError-BX8IdEyR.js";import{C as U,q as $,W as A,x as V,c as E,w as t,o as N,m as i,b as e}from"./app-55nQHNrK.js";import{t as O,b as _,C as B,V as M,a as g,_ as j}from"./_plugin-vue_export-helper-BkxQ5w1y.js";import{V as f}from"./VTextField-HiXiHTac.js";import{V as w,a as c}from"./VRow-Du34Hmus.js";import"./index-qS4-Yaju.js";import"./SectionTitle-BvMKXVsc.js";import"./VCard-OJ0p7aro.js";import"./VAvatar-DmRN7j2J.js";import"./VContainer-G3jeVjVC.js";/* empty css              */import"./VField-3MKmkEWW.js";import"./forwardRefs-B931MWyl.js";var D=Object.defineProperty,T=Object.getOwnPropertyDescriptor,P=(o,r,a,n)=>{for(var s=n>1?void 0:n?T(r,a):r,l=o.length-1,p;l>=0;l--)(p=o[l])&&(s=(n?p(r,a,s):p(s))||s);return n&&s&&D(r,a,s),s};let m=class extends M{constructor(){super(...arguments);u(this,"passwordInput");u(this,"currentPasswordInput");u(this,"form",U({current_password:"",password:"",password_confirmation:""}))}async updatePassword(){var n;let a=route("user-password.update");try{let s=await $.put(a,this.form);this.form.reset(),A.visit(s.data.redirect||"/login")}catch(s){((n=s.response)==null?void 0:n.status)===422?this.form.errors=s.response.data.errors:console.error("Unexpected error:",s),this.form.errors.password&&(this.form.reset("password","password_confirmation"),this.passwordInput.focus()),this.form.errors.current_password&&(this.form.reset("current_password"),this.currentPasswordInput.focus())}}};P([_("passwordInput")],m.prototype,"passwordInput",2);P([_("currentPasswordInput")],m.prototype,"currentPasswordInput",2);m=P([B({components:{ActionMessage:C,FormSection:F,InputError:S,VTextField:f,VBtn:g,VRow:w,VCol:c}})],m);const W=O(m);function q(o,r,a,n,s,l){const p=V("InputError"),I=V("ActionMessage"),v=V("FormSection");return N(),E(v,{onSubmitted:o.updatePassword},{title:t(()=>r[3]||(r[3]=[i(" Update Password ")])),description:t(()=>r[4]||(r[4]=[i(" Ensure your account is using a long, random password to stay secure. ")])),form:t(()=>[e(w,null,{default:t(()=>[e(c,{cols:"12"},{default:t(()=>[e(f,{id:"current_password",ref:"currentPasswordInput",modelValue:o.form.current_password,"onUpdate:modelValue":r[0]||(r[0]=d=>o.form.current_password=d),label:"Current Password",type:"password",autocomplete:"current-password"},null,8,["modelValue"]),e(p,{message:o.form.errors.current_password,class:"mt-2"},null,8,["message"])]),_:1})]),_:1}),e(w,null,{default:t(()=>[e(c,{cols:"12"},{default:t(()=>[e(f,{id:"password",ref:"passwordInput",modelValue:o.form.password,"onUpdate:modelValue":r[1]||(r[1]=d=>o.form.password=d),label:"New Password",type:"password",autocomplete:"new-password"},null,8,["modelValue"]),e(p,{message:o.form.errors.password,class:"mt-2"},null,8,["message"])]),_:1})]),_:1}),e(w,null,{default:t(()=>[e(c,{cols:"12"},{default:t(()=>[e(f,{id:"password_confirmation",modelValue:o.form.password_confirmation,"onUpdate:modelValue":r[2]||(r[2]=d=>o.form.password_confirmation=d),label:"Confirm Password",type:"password",autocomplete:"new-password"},null,8,["modelValue"]),e(p,{message:o.form.errors.password_confirmation,class:"mt-2"},null,8,["message"])]),_:1})]),_:1})]),actions:t(()=>[e(I,{on:o.form.recentlySuccessful,class:"me-3"},{default:t(()=>r[5]||(r[5]=[i(" Saved. ")])),_:1},8,["on"]),e(g,{color:"primary",variant:"elevated",type:"submit",disabled:o.form.processing},{default:t(()=>r[6]||(r[6]=[i(" Save ")])),_:1},8,["disabled"])]),_:1},8,["onSubmitted"])}const er=j(W,[["render",q]]);export{er as default};
