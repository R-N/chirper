import{d as L,e as I,v as O,o as n,f as d,r as _,g as Y,h as W,i as q,a as o,b as i,w as a,j as V,T as M,n as C,k as v,l as h,c as E,t as w,C as A,m as p,u as g,F as P,p as T}from"./app-55nQHNrK.js";import{A as G}from"./ActionMessage-Bct9ZT2_.js";import{A as J}from"./ActionSection-DnR7S2V-.js";import{F as K}from"./FormSection-Bm8ZNWce.js";import{I as Q}from"./InputError-BX8IdEyR.js";import{S as R}from"./SectionBorder-B7Ho5nNV.js";import"./_plugin-vue_export-helper-BkxQ5w1y.js";import"./VAvatar-DmRN7j2J.js";import"./index-qS4-Yaju.js";import"./SectionTitle-BvMKXVsc.js";import"./VRow-Du34Hmus.js";/* empty css              */import"./VContainer-G3jeVjVC.js";import"./VCard-OJ0p7aro.js";const X=["value"],D={__name:"Checkbox",props:{checked:{type:[Array,Boolean],default:!1},value:{type:String,default:null}},emits:["update:checked"],setup(t,{emit:u}){const s=u,m=t,l=L({get(){return m.checked},set(c){s("update:checked",c)}});return(c,f)=>I((n(),d("input",{"onUpdate:modelValue":f[0]||(f[0]=y=>l.value=y),type:"checkbox",value:t.value,class:"rounded dark:bg-gray-900 border-gray-300 dark:border-gray-700 text-indigo-600 shadow-sm focus:ring-indigo-500 dark:focus:ring-indigo-600 dark:focus:ring-offset-gray-800"},null,8,X)),[[O,l.value]])}},Z={class:"fixed inset-0 overflow-y-auto px-4 py-6 sm:px-0 z-50","scroll-region":""},N={__name:"Modal",props:{show:{type:Boolean,default:!1},maxWidth:{type:String,default:"2xl"},closeable:{type:Boolean,default:!0}},emits:["close"],setup(t,{emit:u}){const s=t,m=u,l=_(),c=_(s.show);Y(()=>s.show,()=>{var k;s.show?(document.body.style.overflow="hidden",c.value=!0,(k=l.value)==null||k.showModal()):(document.body.style.overflow=null,setTimeout(()=>{var x;(x=l.value)==null||x.close(),c.value=!1},200))});const f=()=>{s.closeable&&m("close")},y=k=>{k.key==="Escape"&&(k.preventDefault(),s.show&&f())};W(()=>document.addEventListener("keydown",y)),q(()=>{document.removeEventListener("keydown",y),document.body.style.overflow=null});const S=L(()=>({sm:"sm:max-w-sm",md:"sm:max-w-md",lg:"sm:max-w-lg",xl:"sm:max-w-xl","2xl":"sm:max-w-2xl"})[s.maxWidth]);return(k,x)=>(n(),d("dialog",{class:"z-50 m-0 min-h-full min-w-full overflow-y-auto bg-transparent backdrop:bg-transparent",ref_key:"dialog",ref:l},[o("div",Z,[i(M,{"enter-active-class":"ease-out duration-300","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"ease-in duration-200","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:a(()=>[I(o("div",{class:"fixed inset-0 transform transition-all",onClick:f},x[0]||(x[0]=[o("div",{class:"absolute inset-0 bg-gray-500 dark:bg-gray-900 opacity-75"},null,-1)]),512),[[V,t.show]])]),_:1}),i(M,{"enter-active-class":"ease-out duration-300","enter-from-class":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to-class":"opacity-100 translate-y-0 sm:scale-100","leave-active-class":"ease-in duration-200","leave-from-class":"opacity-100 translate-y-0 sm:scale-100","leave-to-class":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:a(()=>[I(o("div",{class:C(["mb-6 bg-white dark:bg-gray-800 rounded-lg overflow-hidden shadow-xl transform transition-all sm:w-full sm:mx-auto",S.value])},[c.value?v(k.$slots,"default",{key:0}):h("",!0)],2),[[V,t.show]])]),_:3})])],512))}},ee={class:"bg-white dark:bg-gray-800 px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},te={class:"sm:flex sm:items-start"},se={class:"mt-3 text-center sm:mt-0 sm:ms-4 sm:text-start"},oe={class:"text-lg font-medium text-gray-900 dark:text-gray-100"},ae={class:"mt-4 text-sm text-gray-600 dark:text-gray-400"},ne={class:"flex flex-row justify-end px-6 py-4 bg-gray-100 dark:bg-gray-800 text-end"},re={__name:"ConfirmationModal",props:{show:{type:Boolean,default:!1},maxWidth:{type:String,default:"2xl"},closeable:{type:Boolean,default:!0}},emits:["close"],setup(t,{emit:u}){const s=u,m=()=>{s("close")};return(l,c)=>(n(),E(N,{show:t.show,"max-width":t.maxWidth,closeable:t.closeable,onClose:m},{default:a(()=>[o("div",ee,[o("div",te,[c[0]||(c[0]=o("div",{class:"mx-auto shrink-0 flex items-center justify-center size-12 rounded-full bg-red-100 sm:mx-0 sm:size-10"},[o("svg",{class:"size-6 text-red-600 dark:text-red-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})])],-1)),o("div",se,[o("h3",oe,[v(l.$slots,"title")]),o("div",ae,[v(l.$slots,"content")])])])]),o("div",ne,[v(l.$slots,"footer")])]),_:3},8,["show","max-width","closeable"]))}},le=["type"],ie={__name:"DangerButton",props:{type:{type:String,default:"button"}},setup(t){return(u,s)=>(n(),d("button",{type:t.type,class:"inline-flex items-center justify-center px-4 py-2 bg-red-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-red-500 active:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition ease-in-out duration-150"},[v(u.$slots,"default")],8,le))}},de={class:"px-6 py-4"},ue={class:"text-lg font-medium text-gray-900 dark:text-gray-100"},ce={class:"mt-4 text-sm text-gray-600 dark:text-gray-400"},me={class:"flex flex-row justify-end px-6 py-4 bg-gray-100 dark:bg-gray-800 text-end"},j={__name:"DialogModal",props:{show:{type:Boolean,default:!1},maxWidth:{type:String,default:"2xl"},closeable:{type:Boolean,default:!0}},emits:["close"],setup(t,{emit:u}){const s=u,m=()=>{s("close")};return(l,c)=>(n(),E(N,{show:t.show,"max-width":t.maxWidth,closeable:t.closeable,onClose:m},{default:a(()=>[o("div",de,[o("div",ue,[v(l.$slots,"title")]),o("div",ce,[v(l.$slots,"content")])]),o("div",me,[v(l.$slots,"footer")])]),_:3},8,["show","max-width","closeable"]))}},pe={class:"block font-medium text-sm text-gray-700 dark:text-gray-300"},ge={key:0},fe={key:1},F={__name:"InputLabel",props:{value:String},setup(t){return(u,s)=>(n(),d("label",pe,[t.value?(n(),d("span",ge,w(t.value),1)):(n(),d("span",fe,[v(u.$slots,"default")]))]))}},ye=["type"],z={__name:"PrimaryButton",props:{type:{type:String,default:"submit"}},setup(t){return(u,s)=>(n(),d("button",{type:t.type,class:"inline-flex items-center px-4 py-2 bg-gray-800 dark:bg-gray-200 border border-transparent rounded-md font-semibold text-xs text-white dark:text-gray-800 uppercase tracking-widest hover:bg-gray-700 dark:hover:bg-white focus:bg-gray-700 dark:focus:bg-white active:bg-gray-900 dark:active:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 disabled:opacity-50 transition ease-in-out duration-150"},[v(u.$slots,"default")],8,ye))}},ve=["type"],B={__name:"SecondaryButton",props:{type:{type:String,default:"button"}},setup(t){return(u,s)=>(n(),d("button",{type:t.type,class:"inline-flex items-center px-4 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-500 rounded-md font-semibold text-xs text-gray-700 dark:text-gray-300 uppercase tracking-widest shadow-sm hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 disabled:opacity-25 transition ease-in-out duration-150"},[v(u.$slots,"default")],8,ve))}},ke=["value"],xe={__name:"TextInput",props:{modelValue:String},emits:["update:modelValue"],setup(t,{expose:u}){const s=_(null);return W(()=>{s.value.hasAttribute("autofocus")&&s.value.focus()}),u({focus:()=>s.value.focus()}),(m,l)=>(n(),d("input",{ref_key:"input",ref:s,class:"border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm",value:t.modelValue,onInput:l[0]||(l[0]=c=>m.$emit("update:modelValue",c.target.value))},null,40,ke))}},be={class:"col-span-6 sm:col-span-4"},he={key:0,class:"col-span-6"},we={class:"mt-2 grid grid-cols-1 md:grid-cols-2 gap-4"},_e={class:"flex items-center"},$e={class:"ms-2 text-sm text-gray-600 dark:text-gray-400"},Ce={key:0},Se={class:"mt-10 sm:mt-0"},Ae={class:"space-y-6"},Pe={class:"break-all dark:text-white"},Te={class:"flex items-center ms-2"},Be={key:0,class:"text-sm text-gray-400"},Ie=["onClick"],Ve=["onClick"],Me={key:0,class:"mt-4 bg-gray-100 dark:bg-gray-900 px-4 py-2 rounded font-mono text-sm text-gray-500 break-all"},De={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},je={class:"flex items-center"},Fe={class:"ms-2 text-sm text-gray-600 dark:text-gray-400"},Re={__name:"ApiTokenManager",props:{tokens:Array,availablePermissions:Array,defaultPermissions:Array},setup(t){const s=A({name:"",permissions:t.defaultPermissions}),m=A({permissions:[]}),l=A({}),c=_(!1),f=_(null),y=_(null),S=()=>{s.post(route("api-tokens.store"),{preserveScroll:!0,onSuccess:()=>{c.value=!0,s.reset()}})},k=b=>{m.permissions=b.abilities,f.value=b},x=()=>{m.put(route("api-tokens.update",f.value),{preserveScroll:!0,preserveState:!0,onSuccess:()=>f.value=null})},U=b=>{y.value=b},H=()=>{l.delete(route("api-tokens.destroy",y.value),{preserveScroll:!0,preserveState:!0,onSuccess:()=>y.value=null})};return(b,e)=>(n(),d("div",null,[i(K,{onSubmitted:S},{title:a(()=>e[9]||(e[9]=[p(" Create API Token ")])),description:a(()=>e[10]||(e[10]=[p(" API tokens allow third-party services to authenticate with our application on your behalf. ")])),form:a(()=>[o("div",be,[i(F,{for:"name",value:"Name"}),i(xe,{id:"name",modelValue:g(s).name,"onUpdate:modelValue":e[0]||(e[0]=r=>g(s).name=r),type:"text",class:"mt-1 block w-full",autofocus:""},null,8,["modelValue"]),i(Q,{message:g(s).errors.name,class:"mt-2"},null,8,["message"])]),t.availablePermissions.length>0?(n(),d("div",he,[i(F,{for:"permissions",value:"Permissions"}),o("div",we,[(n(!0),d(P,null,T(t.availablePermissions,r=>(n(),d("div",{key:r},[o("label",_e,[i(D,{checked:g(s).permissions,"onUpdate:checked":e[1]||(e[1]=$=>g(s).permissions=$),value:r},null,8,["checked","value"]),o("span",$e,w(r),1)])]))),128))])])):h("",!0)]),actions:a(()=>[i(G,{on:g(s).recentlySuccessful,class:"me-3"},{default:a(()=>e[11]||(e[11]=[p(" Created. ")])),_:1},8,["on"]),i(z,{class:C({"opacity-25":g(s).processing}),disabled:g(s).processing},{default:a(()=>e[12]||(e[12]=[p(" Create ")])),_:1},8,["class","disabled"])]),_:1}),t.tokens.length>0?(n(),d("div",Ce,[i(R),o("div",Se,[i(J,null,{title:a(()=>e[13]||(e[13]=[p(" Manage API Tokens ")])),description:a(()=>e[14]||(e[14]=[p(" You may delete any of your existing tokens if they are no longer needed. ")])),content:a(()=>[o("div",Ae,[(n(!0),d(P,null,T(t.tokens,r=>(n(),d("div",{key:r.id,class:"flex items-center justify-between"},[o("div",Pe,w(r.name),1),o("div",Te,[r.last_used_ago?(n(),d("div",Be," Last used "+w(r.last_used_ago),1)):h("",!0),t.availablePermissions.length>0?(n(),d("button",{key:1,class:"cursor-pointer ms-6 text-sm text-gray-400 underline",onClick:$=>k(r)}," Permissions ",8,Ie)):h("",!0),o("button",{class:"cursor-pointer ms-6 text-sm text-red-500",onClick:$=>U(r)}," Delete ",8,Ve)])]))),128))])]),_:1})])])):h("",!0),i(j,{show:c.value,onClose:e[3]||(e[3]=r=>c.value=!1)},{title:a(()=>e[15]||(e[15]=[p(" API Token ")])),content:a(()=>[e[16]||(e[16]=o("div",null," Please copy your new API token. For your security, it won't be shown again. ",-1)),b.$page.props.jetstream.flash.token?(n(),d("div",Me,w(b.$page.props.jetstream.flash.token),1)):h("",!0)]),footer:a(()=>[i(B,{onClick:e[2]||(e[2]=r=>c.value=!1)},{default:a(()=>e[17]||(e[17]=[p(" Close ")])),_:1})]),_:1},8,["show"]),i(j,{show:f.value!=null,onClose:e[6]||(e[6]=r=>f.value=null)},{title:a(()=>e[18]||(e[18]=[p(" API Token Permissions ")])),content:a(()=>[o("div",De,[(n(!0),d(P,null,T(t.availablePermissions,r=>(n(),d("div",{key:r},[o("label",je,[i(D,{checked:g(m).permissions,"onUpdate:checked":e[4]||(e[4]=$=>g(m).permissions=$),value:r},null,8,["checked","value"]),o("span",Fe,w(r),1)])]))),128))])]),footer:a(()=>[i(B,{onClick:e[5]||(e[5]=r=>f.value=null)},{default:a(()=>e[19]||(e[19]=[p(" Cancel ")])),_:1}),i(z,{class:C(["ms-3",{"opacity-25":g(m).processing}]),disabled:g(m).processing,onClick:x},{default:a(()=>e[20]||(e[20]=[p(" Save ")])),_:1},8,["class","disabled"])]),_:1},8,["show"]),i(re,{show:y.value!=null,onClose:e[8]||(e[8]=r=>y.value=null)},{title:a(()=>e[21]||(e[21]=[p(" Delete API Token ")])),content:a(()=>e[22]||(e[22]=[p(" Are you sure you would like to delete this API token? ")])),footer:a(()=>[i(B,{onClick:e[7]||(e[7]=r=>y.value=null)},{default:a(()=>e[23]||(e[23]=[p(" Cancel ")])),_:1}),i(ie,{class:C(["ms-3",{"opacity-25":g(l).processing}]),disabled:g(l).processing,onClick:H},{default:a(()=>e[24]||(e[24]=[p(" Delete ")])),_:1},8,["class","disabled"])]),_:1},8,["show"])]))}};export{Re as default};
