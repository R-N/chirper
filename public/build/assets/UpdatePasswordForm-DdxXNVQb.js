var b=Object.defineProperty;var y=(s,r,a)=>r in s?b(s,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[r]=a;var u=(s,r,a)=>y(s,typeof r!="symbol"?r+"":r,a);import{A as C}from"./ActionMessage-CWwPCJqz.js";import{F}from"./FormSection-DxtbfoJA.js";import{I as S}from"./InputError-BUPxf3yf.js";import{C as U,z as A,W as E,A as V,c as $,w as t,o as N,E as i,b as e}from"./app-D4do6SPm.js";import{t as O,b as _,C as B,V as M,a as g,_ as j}from"./_plugin-vue_export-helper-CFsRs_PN.js";import{V as f}from"./VTextField-DxPf1aFi.js";import{V as w,a as c}from"./VRow-CpG1yRc5.js";import"./VField-DK4ipqlY.js";import"./VAvatar-Bg5ilFUs.js";import"./forwardRefs-DvBWcYN4.js";import"./SectionTitle-CdCxXf3-.js";import"./VCard-CWuaa-a7.js";import"./VContainer-DSl5-3wa.js";/* empty css              */var D=Object.defineProperty,T=Object.getOwnPropertyDescriptor,P=(s,r,a,n)=>{for(var o=n>1?void 0:n?T(r,a):r,l=s.length-1,p;l>=0;l--)(p=s[l])&&(o=(n?p(r,a,o):p(o))||o);return n&&o&&D(r,a,o),o};let m=class extends M{constructor(){super(...arguments);u(this,"passwordInput");u(this,"currentPasswordInput");u(this,"form",U({current_password:"",password:"",password_confirmation:""}))}async updatePassword(){var n;let a=route("user-password.update");try{let o=await A.put(a,this.form);this.form.reset(),E.visit(o.data.redirect||"/login")}catch(o){((n=o.response)==null?void 0:n.status)===422?this.form.errors=o.response.data.errors:console.error("Unexpected error:",o),this.form.errors.password&&(this.form.reset("password","password_confirmation"),this.passwordInput.focus()),this.form.errors.current_password&&(this.form.reset("current_password"),this.currentPasswordInput.focus())}}};P([_("passwordInput")],m.prototype,"passwordInput",2);P([_("currentPasswordInput")],m.prototype,"currentPasswordInput",2);m=P([B({components:{ActionMessage:C,FormSection:F,InputError:S,VTextField:f,VBtn:g,VRow:w,VCol:c}})],m);const W=O(m);function z(s,r,a,n,o,l){const p=V("InputError"),I=V("ActionMessage"),v=V("FormSection");return N(),$(v,{onSubmitted:s.updatePassword},{title:t(()=>r[3]||(r[3]=[i(" Update Password ")])),description:t(()=>r[4]||(r[4]=[i(" Ensure your account is using a long, random password to stay secure. ")])),form:t(()=>[e(w,null,{default:t(()=>[e(c,{cols:"12"},{default:t(()=>[e(f,{id:"current_password",ref:"currentPasswordInput",modelValue:s.form.current_password,"onUpdate:modelValue":r[0]||(r[0]=d=>s.form.current_password=d),label:"Current Password",type:"password",autocomplete:"current-password"},null,8,["modelValue"]),e(p,{message:s.form.errors.current_password,class:"mt-2"},null,8,["message"])]),_:1})]),_:1}),e(w,null,{default:t(()=>[e(c,{cols:"12"},{default:t(()=>[e(f,{id:"password",ref:"passwordInput",modelValue:s.form.password,"onUpdate:modelValue":r[1]||(r[1]=d=>s.form.password=d),label:"New Password",type:"password",autocomplete:"new-password"},null,8,["modelValue"]),e(p,{message:s.form.errors.password,class:"mt-2"},null,8,["message"])]),_:1})]),_:1}),e(w,null,{default:t(()=>[e(c,{cols:"12"},{default:t(()=>[e(f,{id:"password_confirmation",modelValue:s.form.password_confirmation,"onUpdate:modelValue":r[2]||(r[2]=d=>s.form.password_confirmation=d),label:"Confirm Password",type:"password",autocomplete:"new-password"},null,8,["modelValue"]),e(p,{message:s.form.errors.password_confirmation,class:"mt-2"},null,8,["message"])]),_:1})]),_:1})]),actions:t(()=>[e(I,{on:s.form.recentlySuccessful,class:"me-3"},{default:t(()=>r[5]||(r[5]=[i(" Saved. ")])),_:1},8,["on"]),e(g,{color:"primary",variant:"elevated",type:"submit",disabled:s.form.processing},{default:t(()=>r[6]||(r[6]=[i(" Save ")])),_:1},8,["disabled"])]),_:1},8,["onSubmitted"])}const or=j(W,[["render",z]]);export{or as default};
