var V=Object.defineProperty;var b=(o,s,e)=>s in o?V(o,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[s]=e;var i=(o,s,e)=>b(o,typeof s!="symbol"?s+"":s,e);import{_ as $}from"./ActionMessage-BdQ6Ope5.js";import{_ as C}from"./FormSection-CN1tMcTt.js";import{_ as S}from"./InputError-BJCQ_2OS.js";import{_ as U}from"./InputLabel-rm7JmSlO.js";import{_ as B}from"./PrimaryButton-CoZ8PQbO.js";import{_ as F}from"./TextInput-CoUy5fzm.js";import{C as N,i as E,W as O,j as p,c as T,w as m,o as j,g as c,a as _,b as t,n as A}from"./app-DCXzMWXa.js";import{t as L,a as I,C as M,V as h}from"./index-CSEC8W1N.js";import{_ as D}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./SectionTitle-Da4cl8iM.js";var W=Object.defineProperty,z=Object.getOwnPropertyDescriptor,P=(o,s,e,a)=>{for(var r=a>1?void 0:a?z(s,e):s,u=o.length-1,n;u>=0;u--)(n=o[u])&&(r=(a?n(s,e,r):n(r))||r);return a&&r&&W(s,e,r),r};let l=class extends h{constructor(){super(...arguments);i(this,"passwordInput");i(this,"currentPasswordInput");i(this,"form",N({current_password:"",password:"",password_confirmation:""}))}async updatePassword(){var a;let e=route("user-password.update");try{let r=await E.put(e,this.form);this.form.reset(),O.visit(r.data.redirect||"/login")}catch(r){((a=r.response)==null?void 0:a.status)===422?this.form.errors=r.response.data.errors:console.error("Unexpected error:",r),this.form.errors.password&&(this.form.reset("password","password_confirmation"),this.passwordInput.focus()),this.form.errors.current_password&&(this.form.reset("current_password"),this.currentPasswordInput.focus())}}};P([I("passwordInput")],l.prototype,"passwordInput",2);P([I("currentPasswordInput")],l.prototype,"currentPasswordInput",2);l=P([M({components:{ActionMessage:$,FormSection:C,InputError:S,InputLabel:U,PrimaryButton:B,TextInput:F}})],l);const k=L(l),q={class:"col-span-6 sm:col-span-4"},G={class:"col-span-6 sm:col-span-4"},H={class:"col-span-6 sm:col-span-4"};function J(o,s,e,a,r,u){const n=p("InputLabel"),f=p("TextInput"),w=p("InputError"),v=p("ActionMessage"),g=p("PrimaryButton"),y=p("FormSection");return j(),T(y,{onSubmitted:o.updatePassword},{title:m(()=>s[3]||(s[3]=[c(" Update Password ")])),description:m(()=>s[4]||(s[4]=[c(" Ensure your account is using a long, random password to stay secure. ")])),form:m(()=>[_("div",q,[t(n,{for:"current_password",value:"Current Password"}),t(f,{id:"current_password",ref:"currentPasswordInput",modelValue:o.form.current_password,"onUpdate:modelValue":s[0]||(s[0]=d=>o.form.current_password=d),type:"password",class:"mt-1 block w-full",autocomplete:"current-password"},null,8,["modelValue"]),t(w,{message:o.form.errors.current_password,class:"mt-2"},null,8,["message"])]),_("div",G,[t(n,{for:"password",value:"New Password"}),t(f,{id:"password",ref:"passwordInput",modelValue:o.form.password,"onUpdate:modelValue":s[1]||(s[1]=d=>o.form.password=d),type:"password",class:"mt-1 block w-full",autocomplete:"new-password"},null,8,["modelValue"]),t(w,{message:o.form.errors.password,class:"mt-2"},null,8,["message"])]),_("div",H,[t(n,{for:"password_confirmation",value:"Confirm Password"}),t(f,{id:"password_confirmation",modelValue:o.form.password_confirmation,"onUpdate:modelValue":s[2]||(s[2]=d=>o.form.password_confirmation=d),type:"password",class:"mt-1 block w-full",autocomplete:"new-password"},null,8,["modelValue"]),t(w,{message:o.form.errors.password_confirmation,class:"mt-2"},null,8,["message"])])]),actions:m(()=>[t(v,{on:o.form.recentlySuccessful,class:"me-3"},{default:m(()=>s[5]||(s[5]=[c(" Saved. ")])),_:1},8,["on"]),t(g,{class:A({"opacity-25":o.form.processing}),disabled:o.form.processing},{default:m(()=>s[6]||(s[6]=[c(" Save ")])),_:1},8,["class","disabled"])]),_:1},8,["onSubmitted"])}const as=D(k,[["render",J]]);export{as as default};
