var g=Object.defineProperty;var V=(r,s,o)=>s in r?g(r,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[s]=o;var m=(r,s,o)=>V(r,typeof s!="symbol"?s+"":s,o);import{_ as b}from"./InputError-blRIJqDf.js";import{_ as C,a as $}from"./TextInput-DhBzVQR2.js";import{P as U}from"./PrimaryButton-D7nFVjVU.js";import{T as h,a as B,F as N,r as i,g as _,d as a,b as e,w as v,C as T,f as E,o as P,e as F,h as O}from"./app-DJXqVf7l.js";import{t as S,a as y,C as x,V as L,_ as j}from"./index-Dbxdjc5y.js";var D=Object.defineProperty,k=Object.getOwnPropertyDescriptor,c=(r,s,o,d)=>{for(var t=d>1?void 0:d?k(s,o):s,u=r.length-1,n;u>=0;u--)(n=r[u])&&(t=(d?n(s,o,t):n(t))||t);return d&&t&&D(s,o,t),t};let l=class extends L{constructor(){super(...arguments);m(this,"passwordInput");m(this,"currentPasswordInput");m(this,"form",h({current_password:"",password:"",password_confirmation:""}))}async updatePassword(){try{let o=await B.put(route("password.update"),this.form);this.form.reset(),N.visit(o.data.redirect||"/login")}catch{this.form.errors.password&&(this.form.reset("password","password_confirmation"),this.passwordInput.focus()),this.form.errors.current_password&&(this.form.reset("current_password"),this.currentPasswordInput.focus())}}};c([y("passwordInput")],l.prototype,"passwordInput",2);c([y("currentPasswordInput")],l.prototype,"currentPasswordInput",2);l=c([x({components:{InputError:b,InputLabel:C,PrimaryButton:U,TextInput:$}})],l);const M=S(l),q={class:"flex items-center gap-4"},z={key:0,class:"text-sm text-gray-600"};function A(r,s,o,d,t,u){const n=i("InputLabel"),f=i("TextInput"),w=i("InputError"),I=i("PrimaryButton");return P(),_("section",null,[s[5]||(s[5]=a("header",null,[a("h2",{class:"text-lg font-medium text-gray-900"}," Update Password "),a("p",{class:"mt-1 text-sm text-gray-600"}," Ensure your account is using a long, random password to stay secure. ")],-1)),a("form",{onSubmit:s[3]||(s[3]=E((...p)=>r.updatePassword&&r.updatePassword(...p),["prevent"])),class:"mt-6 space-y-6"},[a("div",null,[e(n,{for:"current_password",value:"Current Password"}),e(f,{id:"current_password",ref:"currentPasswordInput",modelValue:r.form.current_password,"onUpdate:modelValue":s[0]||(s[0]=p=>r.form.current_password=p),type:"password",class:"mt-1 block w-full",autocomplete:"current-password"},null,8,["modelValue"]),e(w,{message:r.form.errors.current_password,class:"mt-2"},null,8,["message"])]),a("div",null,[e(n,{for:"password",value:"New Password"}),e(f,{id:"password",ref:"passwordInput",modelValue:r.form.password,"onUpdate:modelValue":s[1]||(s[1]=p=>r.form.password=p),type:"password",class:"mt-1 block w-full",autocomplete:"new-password"},null,8,["modelValue"]),e(w,{message:r.form.errors.password,class:"mt-2"},null,8,["message"])]),a("div",null,[e(n,{for:"password_confirmation",value:"Confirm Password"}),e(f,{id:"password_confirmation",modelValue:r.form.password_confirmation,"onUpdate:modelValue":s[2]||(s[2]=p=>r.form.password_confirmation=p),type:"password",class:"mt-1 block w-full",autocomplete:"new-password"},null,8,["modelValue"]),e(w,{message:r.form.errors.password_confirmation,class:"mt-2"},null,8,["message"])]),a("div",q,[e(I,{disabled:r.form.processing},{default:v(()=>s[4]||(s[4]=[F("Save")])),_:1},8,["disabled"]),e(T,{"enter-active-class":"transition ease-in-out","enter-from-class":"opacity-0","leave-active-class":"transition ease-in-out","leave-to-class":"opacity-0"},{default:v(()=>[r.form.recentlySuccessful?(P(),_("p",z," Saved. ")):O("",!0)]),_:1})])],32)])}const X=j(M,[["render",A]]);export{X as default};
