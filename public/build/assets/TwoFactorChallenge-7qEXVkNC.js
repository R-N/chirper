var L=Object.defineProperty;var $=(o,e,t)=>e in o?L(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t;var u=(o,e,t)=>$(o,typeof e!="symbol"?e+"":e,t);import{C as A,Y as B,q as E,W as N,s as O,x as v,f as n,b as r,w as a,F as p,o as i,m as d,a as U,y as h}from"./app-55nQHNrK.js";import{I as j}from"./InputError-BX8IdEyR.js";import{_ as H}from"./AuthenticationCardLogo-CcFgp90f.js";import{t as R,b as w,C as D,V as S,a as C,_ as W}from"./_plugin-vue_export-helper-BkxQ5w1y.js";import{V as g}from"./VField-3MKmkEWW.js";import{V as k}from"./VSpacer-vCbJeM_T.js";import{V as T,a as V,b as P,c as x}from"./VCard-OJ0p7aro.js";import{V as _}from"./VTextField-HiXiHTac.js";import"./VAvatar-DmRN7j2J.js";import"./index-qS4-Yaju.js";import"./forwardRefs-B931MWyl.js";/* empty css              */var q=Object.defineProperty,M=Object.getOwnPropertyDescriptor,b=(o,e,t,c)=>{for(var s=c>1?void 0:c?M(e,t):e,y=o.length-1,l;y>=0;y--)(l=o[y])&&(s=(c?l(e,t,s):l(s))||s);return c&&s&&q(e,t,s),s};let f=class extends S{constructor(){super(...arguments);u(this,"recovery",!1);u(this,"form",A({code:"",recovery_code:""}));u(this,"recoveryCodeInput");u(this,"codeInput")}async toggleRecovery(){this.recovery=!this.recovery,await B(),this.recovery?(this.recoveryCodeInput.value.focus(),this.form.code=""):(this.codeInput.value.focus(),this.form.recovery_code="")}async submit(){let e=await E.post(route("two-factor.login"),this.form);N.visit(e.data.redirect||"/dashboard")}};b([w("recoveryCodeInput")],f.prototype,"recoveryCodeInput",2);b([w("codeInput")],f.prototype,"codeInput",2);f=b([D({components:{AuthenticationCardLogo:H,InputError:j,VCard:T,VCardText:V,VCardTitle:P,VCardActions:x,VTextField:_,VLabel:g,VBtn:C,VSpacer:k,Head:O}})],f);const Y=R(f),z={key:0},G={key:1};function J(o,e,t,c,s,y){const l=v("Head"),F=v("AuthenticationCardLogo"),I=v("InputError");return i(),n(p,null,[r(l,{title:"Two-factor Confirmation"}),r(T,{class:"mx-auto","max-width":"400",variant:"elevated",elevation:"6"},{default:a(()=>[r(P,{class:"text-center"},{default:a(()=>[r(F)]),_:1}),r(V,{class:"text-gray-600 dark:text-gray-400"},{default:a(()=>[o.recovery?(i(),n(p,{key:1},[d(" Please confirm access to your account by entering one of your emergency recovery codes. ")],64)):(i(),n(p,{key:0},[d(" Please confirm access to your account by entering the authentication code provided by your authenticator application. ")],64))]),_:1}),r(V,null,{default:a(()=>[U("form",{onSubmit:e[2]||(e[2]=h((...m)=>o.submit&&o.submit(...m),["prevent"]))},[o.recovery?(i(),n("div",G,[r(g,{for:"recovery_code"},{default:a(()=>e[4]||(e[4]=[d("Recovery Code")])),_:1}),r(_,{id:"recovery_code",ref:"recoveryCodeInput",modelValue:o.form.recovery_code,"onUpdate:modelValue":e[1]||(e[1]=m=>o.form.recovery_code=m),type:"text",variant:"outlined",autocomplete:"one-time-code"},null,8,["modelValue"]),r(I,{class:"mt-2",message:o.form.errors.recovery_code},null,8,["message"])])):(i(),n("div",z,[r(g,{for:"code"},{default:a(()=>e[3]||(e[3]=[d("Code")])),_:1}),r(_,{id:"code",ref:"codeInput",modelValue:o.form.code,"onUpdate:modelValue":e[0]||(e[0]=m=>o.form.code=m),type:"text",inputmode:"numeric",variant:"outlined",autocomplete:"one-time-code",autofocus:""},null,8,["modelValue"]),r(I,{class:"mt-2",message:o.form.errors.code},null,8,["message"])]))],32)]),_:1}),r(x,{class:"d-flex justify-end"},{default:a(()=>[r(C,{variant:"text",onClick:h(o.toggleRecovery,["prevent"])},{default:a(()=>[o.recovery?(i(),n(p,{key:1},[d("Use an authentication code")],64)):(i(),n(p,{key:0},[d("Use a recovery code")],64))]),_:1},8,["onClick"]),r(k),r(C,{color:"primary",variant:"elevated",loading:o.form.processing,onClick:o.submit},{default:a(()=>e[5]||(e[5]=[d(" Log in ")])),_:1},8,["loading","onClick"])]),_:1})]),_:1})],64)}const ce=W(Y,[["render",J]]);export{ce as default};
