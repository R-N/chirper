var y=Object.defineProperty;var b=(s,r,a)=>r in s?y(s,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[r]=a;var u=(s,r,a)=>b(s,typeof r!="symbol"?r+"":r,a);import{A as C}from"./ActionMessage-Hdfe8NwQ.js";import{F,_ as S}from"./PrimaryButton-BQToRzhD.js";import{I as U}from"./InputError-xAJO7AMq.js";import{C as $,q as A,W as B,x as _,c as E,w as t,o as N,m as i,b as e}from"./app-CPfewmGe.js";import{t as O,b as V,C as M,V as j,a as g,_ as D}from"./_plugin-vue_export-helper-Bf4a9asG.js";import{V as f}from"./VTextField-4sMH03gq.js";import{V as w,a as c}from"./VRow-B9VDY_ti.js";import"./index-D2A-LN9Q.js";import"./SectionTitle-Cv3a6Ohr.js";import"./VCard-GT_KN03z.js";import"./VAvatar-BWhNs8M-.js";import"./VContainer-v6UAIoxN.js";/* empty css              */import"./VField-WdJWQtL9.js";import"./forwardRefs-B931MWyl.js";var T=Object.defineProperty,W=Object.getOwnPropertyDescriptor,P=(s,r,a,n)=>{for(var o=n>1?void 0:n?W(r,a):r,l=s.length-1,p;l>=0;l--)(p=s[l])&&(o=(n?p(r,a,o):p(o))||o);return n&&o&&T(r,a,o),o};let m=class extends j{constructor(){super(...arguments);u(this,"passwordInput");u(this,"currentPasswordInput");u(this,"form",$({current_password:"",password:"",password_confirmation:""}))}async updatePassword(){var n;let a=route("user-password.update");try{let o=await A.put(a,this.form);this.form.reset(),B.visit(o.data.redirect||"/login")}catch(o){((n=o.response)==null?void 0:n.status)===422?this.form.errors=o.response.data.errors:console.error("Unexpected error:",o),this.form.errors.password&&(this.form.reset("password","password_confirmation"),this.passwordInput.focus()),this.form.errors.current_password&&(this.form.reset("current_password"),this.currentPasswordInput.focus())}}};P([V("passwordInput")],m.prototype,"passwordInput",2);P([V("currentPasswordInput")],m.prototype,"currentPasswordInput",2);m=P([M({components:{ActionMessage:C,FormSection:F,InputError:U,PrimaryButton:S,VTextField:f,VBtn:g,VRow:w,VCol:c}})],m);const q=O(m);function R(s,r,a,n,o,l){const p=_("InputError"),I=_("ActionMessage"),v=_("FormSection");return N(),E(v,{onSubmitted:s.updatePassword},{title:t(()=>r[3]||(r[3]=[i(" Update Password ")])),description:t(()=>r[4]||(r[4]=[i(" Ensure your account is using a long, random password to stay secure. ")])),form:t(()=>[e(w,null,{default:t(()=>[e(c,{cols:"12"},{default:t(()=>[e(f,{id:"current_password",ref:"currentPasswordInput",modelValue:s.form.current_password,"onUpdate:modelValue":r[0]||(r[0]=d=>s.form.current_password=d),label:"Current Password",type:"password",autocomplete:"current-password"},null,8,["modelValue"]),e(p,{message:s.form.errors.current_password,class:"mt-2"},null,8,["message"])]),_:1})]),_:1}),e(w,null,{default:t(()=>[e(c,{cols:"12"},{default:t(()=>[e(f,{id:"password",ref:"passwordInput",modelValue:s.form.password,"onUpdate:modelValue":r[1]||(r[1]=d=>s.form.password=d),label:"New Password",type:"password",autocomplete:"new-password"},null,8,["modelValue"]),e(p,{message:s.form.errors.password,class:"mt-2"},null,8,["message"])]),_:1})]),_:1}),e(w,null,{default:t(()=>[e(c,{cols:"12"},{default:t(()=>[e(f,{id:"password_confirmation",modelValue:s.form.password_confirmation,"onUpdate:modelValue":r[2]||(r[2]=d=>s.form.password_confirmation=d),label:"Confirm Password",type:"password",autocomplete:"new-password"},null,8,["modelValue"]),e(p,{message:s.form.errors.password_confirmation,class:"mt-2"},null,8,["message"])]),_:1})]),_:1})]),actions:t(()=>[e(I,{on:s.form.recentlySuccessful,class:"me-3"},{default:t(()=>r[5]||(r[5]=[i(" Saved. ")])),_:1},8,["on"]),e(g,{color:"primary",variant:"elevated",type:"submit",disabled:s.form.processing},{default:t(()=>r[6]||(r[6]=[i(" Save ")])),_:1},8,["disabled"])]),_:1},8,["onSubmitted"])}const tr=D(q,[["render",R]]);export{tr as default};
