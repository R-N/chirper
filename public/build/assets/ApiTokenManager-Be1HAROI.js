import{d as L,e as I,v as O,o as i,f as d,r as _,g as Y,h as W,i as q,a as s,b as r,w as a,j as V,T as M,n as C,k,l as w,c as E,t as h,C as S,m as c,u as f,F as P,p as T}from"./app-CPfewmGe.js";import{A as G}from"./ActionMessage-Hdfe8NwQ.js";import{A as J}from"./ActionSection-CPy7fXw3.js";import{F as K,_ as D}from"./PrimaryButton-BQToRzhD.js";import{I as Q}from"./InputError-xAJO7AMq.js";import{_ as B}from"./SecondaryButton-DyPe4Kvg.js";import{S as R}from"./SectionBorder-CRwMo0WZ.js";import"./_plugin-vue_export-helper-Bf4a9asG.js";import"./VAvatar-BWhNs8M-.js";import"./index-D2A-LN9Q.js";import"./SectionTitle-Cv3a6Ohr.js";import"./VRow-B9VDY_ti.js";/* empty css              */import"./VContainer-v6UAIoxN.js";import"./VCard-GT_KN03z.js";const X=["value"],j={__name:"Checkbox",props:{checked:{type:[Array,Boolean],default:!1},value:{type:String,default:null}},emits:["update:checked"],setup(o,{emit:p}){const t=p,m=o,n=L({get(){return m.checked},set(u){t("update:checked",u)}});return(u,g)=>I((i(),d("input",{"onUpdate:modelValue":g[0]||(g[0]=y=>n.value=y),type:"checkbox",value:o.value,class:"rounded dark:bg-gray-900 border-gray-300 dark:border-gray-700 text-indigo-600 shadow-sm focus:ring-indigo-500 dark:focus:ring-indigo-600 dark:focus:ring-offset-gray-800"},null,8,X)),[[O,n.value]])}},Z={class:"fixed inset-0 overflow-y-auto px-4 py-6 sm:px-0 z-50","scroll-region":""},N={__name:"Modal",props:{show:{type:Boolean,default:!1},maxWidth:{type:String,default:"2xl"},closeable:{type:Boolean,default:!0}},emits:["close"],setup(o,{emit:p}){const t=o,m=p,n=_(),u=_(t.show);Y(()=>t.show,()=>{var v;t.show?(document.body.style.overflow="hidden",u.value=!0,(v=n.value)==null||v.showModal()):(document.body.style.overflow=null,setTimeout(()=>{var x;(x=n.value)==null||x.close(),u.value=!1},200))});const g=()=>{t.closeable&&m("close")},y=v=>{v.key==="Escape"&&(v.preventDefault(),t.show&&g())};W(()=>document.addEventListener("keydown",y)),q(()=>{document.removeEventListener("keydown",y),document.body.style.overflow=null});const A=L(()=>({sm:"sm:max-w-sm",md:"sm:max-w-md",lg:"sm:max-w-lg",xl:"sm:max-w-xl","2xl":"sm:max-w-2xl"})[t.maxWidth]);return(v,x)=>(i(),d("dialog",{class:"z-50 m-0 min-h-full min-w-full overflow-y-auto bg-transparent backdrop:bg-transparent",ref_key:"dialog",ref:n},[s("div",Z,[r(M,{"enter-active-class":"ease-out duration-300","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"ease-in duration-200","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:a(()=>[I(s("div",{class:"fixed inset-0 transform transition-all",onClick:g},x[0]||(x[0]=[s("div",{class:"absolute inset-0 bg-gray-500 dark:bg-gray-900 opacity-75"},null,-1)]),512),[[V,o.show]])]),_:1}),r(M,{"enter-active-class":"ease-out duration-300","enter-from-class":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to-class":"opacity-100 translate-y-0 sm:scale-100","leave-active-class":"ease-in duration-200","leave-from-class":"opacity-100 translate-y-0 sm:scale-100","leave-to-class":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:a(()=>[I(s("div",{class:C(["mb-6 bg-white dark:bg-gray-800 rounded-lg overflow-hidden shadow-xl transform transition-all sm:w-full sm:mx-auto",A.value])},[u.value?k(v.$slots,"default",{key:0}):w("",!0)],2),[[V,o.show]])]),_:3})])],512))}},ee={class:"bg-white dark:bg-gray-800 px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},te={class:"sm:flex sm:items-start"},se={class:"mt-3 text-center sm:mt-0 sm:ms-4 sm:text-start"},oe={class:"text-lg font-medium text-gray-900 dark:text-gray-100"},ae={class:"mt-4 text-sm text-gray-600 dark:text-gray-400"},le={class:"flex flex-row justify-end px-6 py-4 bg-gray-100 dark:bg-gray-800 text-end"},ne={__name:"ConfirmationModal",props:{show:{type:Boolean,default:!1},maxWidth:{type:String,default:"2xl"},closeable:{type:Boolean,default:!0}},emits:["close"],setup(o,{emit:p}){const t=p,m=()=>{t("close")};return(n,u)=>(i(),E(N,{show:o.show,"max-width":o.maxWidth,closeable:o.closeable,onClose:m},{default:a(()=>[s("div",ee,[s("div",te,[u[0]||(u[0]=s("div",{class:"mx-auto shrink-0 flex items-center justify-center size-12 rounded-full bg-red-100 sm:mx-0 sm:size-10"},[s("svg",{class:"size-6 text-red-600 dark:text-red-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})])],-1)),s("div",se,[s("h3",oe,[k(n.$slots,"title")]),s("div",ae,[k(n.$slots,"content")])])])]),s("div",le,[k(n.$slots,"footer")])]),_:3},8,["show","max-width","closeable"]))}},re=["type"],ie={__name:"DangerButton",props:{type:{type:String,default:"button"}},setup(o){return(p,t)=>(i(),d("button",{type:o.type,class:"inline-flex items-center justify-center px-4 py-2 bg-red-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-red-500 active:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition ease-in-out duration-150"},[k(p.$slots,"default")],8,re))}},de={class:"px-6 py-4"},ue={class:"text-lg font-medium text-gray-900 dark:text-gray-100"},me={class:"mt-4 text-sm text-gray-600 dark:text-gray-400"},ce={class:"flex flex-row justify-end px-6 py-4 bg-gray-100 dark:bg-gray-800 text-end"},F={__name:"DialogModal",props:{show:{type:Boolean,default:!1},maxWidth:{type:String,default:"2xl"},closeable:{type:Boolean,default:!0}},emits:["close"],setup(o,{emit:p}){const t=p,m=()=>{t("close")};return(n,u)=>(i(),E(N,{show:o.show,"max-width":o.maxWidth,closeable:o.closeable,onClose:m},{default:a(()=>[s("div",de,[s("div",ue,[k(n.$slots,"title")]),s("div",me,[k(n.$slots,"content")])]),s("div",ce,[k(n.$slots,"footer")])]),_:3},8,["show","max-width","closeable"]))}},pe={class:"block font-medium text-sm text-gray-700 dark:text-gray-300"},fe={key:0},ge={key:1},z={__name:"InputLabel",props:{value:String},setup(o){return(p,t)=>(i(),d("label",pe,[o.value?(i(),d("span",fe,h(o.value),1)):(i(),d("span",ge,[k(p.$slots,"default")]))]))}},ye=["value"],ve={__name:"TextInput",props:{modelValue:String},emits:["update:modelValue"],setup(o,{expose:p}){const t=_(null);return W(()=>{t.value.hasAttribute("autofocus")&&t.value.focus()}),p({focus:()=>t.value.focus()}),(m,n)=>(i(),d("input",{ref_key:"input",ref:t,class:"border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm",value:o.modelValue,onInput:n[0]||(n[0]=u=>m.$emit("update:modelValue",u.target.value))},null,40,ye))}},ke={class:"col-span-6 sm:col-span-4"},xe={key:0,class:"col-span-6"},be={class:"mt-2 grid grid-cols-1 md:grid-cols-2 gap-4"},we={class:"flex items-center"},he={class:"ms-2 text-sm text-gray-600 dark:text-gray-400"},_e={key:0},$e={class:"mt-10 sm:mt-0"},Ce={class:"space-y-6"},Ae={class:"break-all dark:text-white"},Se={class:"flex items-center ms-2"},Pe={key:0,class:"text-sm text-gray-400"},Te=["onClick"],Be=["onClick"],Ie={key:0,class:"mt-4 bg-gray-100 dark:bg-gray-900 px-4 py-2 rounded font-mono text-sm text-gray-500 break-all"},Ve={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Me={class:"flex items-center"},De={class:"ms-2 text-sm text-gray-600 dark:text-gray-400"},Qe={__name:"ApiTokenManager",props:{tokens:Array,availablePermissions:Array,defaultPermissions:Array},setup(o){const t=S({name:"",permissions:o.defaultPermissions}),m=S({permissions:[]}),n=S({}),u=_(!1),g=_(null),y=_(null),A=()=>{t.post(route("api-tokens.store"),{preserveScroll:!0,onSuccess:()=>{u.value=!0,t.reset()}})},v=b=>{m.permissions=b.abilities,g.value=b},x=()=>{m.put(route("api-tokens.update",g.value),{preserveScroll:!0,preserveState:!0,onSuccess:()=>g.value=null})},U=b=>{y.value=b},H=()=>{n.delete(route("api-tokens.destroy",y.value),{preserveScroll:!0,preserveState:!0,onSuccess:()=>y.value=null})};return(b,e)=>(i(),d("div",null,[r(K,{onSubmitted:A},{title:a(()=>e[9]||(e[9]=[c(" Create API Token ")])),description:a(()=>e[10]||(e[10]=[c(" API tokens allow third-party services to authenticate with our application on your behalf. ")])),form:a(()=>[s("div",ke,[r(z,{for:"name",value:"Name"}),r(ve,{id:"name",modelValue:f(t).name,"onUpdate:modelValue":e[0]||(e[0]=l=>f(t).name=l),type:"text",class:"mt-1 block w-full",autofocus:""},null,8,["modelValue"]),r(Q,{message:f(t).errors.name,class:"mt-2"},null,8,["message"])]),o.availablePermissions.length>0?(i(),d("div",xe,[r(z,{for:"permissions",value:"Permissions"}),s("div",be,[(i(!0),d(P,null,T(o.availablePermissions,l=>(i(),d("div",{key:l},[s("label",we,[r(j,{checked:f(t).permissions,"onUpdate:checked":e[1]||(e[1]=$=>f(t).permissions=$),value:l},null,8,["checked","value"]),s("span",he,h(l),1)])]))),128))])])):w("",!0)]),actions:a(()=>[r(G,{on:f(t).recentlySuccessful,class:"me-3"},{default:a(()=>e[11]||(e[11]=[c(" Created. ")])),_:1},8,["on"]),r(D,{class:C({"opacity-25":f(t).processing}),disabled:f(t).processing},{default:a(()=>e[12]||(e[12]=[c(" Create ")])),_:1},8,["class","disabled"])]),_:1}),o.tokens.length>0?(i(),d("div",_e,[r(R),s("div",$e,[r(J,null,{title:a(()=>e[13]||(e[13]=[c(" Manage API Tokens ")])),description:a(()=>e[14]||(e[14]=[c(" You may delete any of your existing tokens if they are no longer needed. ")])),content:a(()=>[s("div",Ce,[(i(!0),d(P,null,T(o.tokens,l=>(i(),d("div",{key:l.id,class:"flex items-center justify-between"},[s("div",Ae,h(l.name),1),s("div",Se,[l.last_used_ago?(i(),d("div",Pe," Last used "+h(l.last_used_ago),1)):w("",!0),o.availablePermissions.length>0?(i(),d("button",{key:1,class:"cursor-pointer ms-6 text-sm text-gray-400 underline",onClick:$=>v(l)}," Permissions ",8,Te)):w("",!0),s("button",{class:"cursor-pointer ms-6 text-sm text-red-500",onClick:$=>U(l)}," Delete ",8,Be)])]))),128))])]),_:1})])])):w("",!0),r(F,{show:u.value,onClose:e[3]||(e[3]=l=>u.value=!1)},{title:a(()=>e[15]||(e[15]=[c(" API Token ")])),content:a(()=>[e[16]||(e[16]=s("div",null," Please copy your new API token. For your security, it won't be shown again. ",-1)),b.$page.props.jetstream.flash.token?(i(),d("div",Ie,h(b.$page.props.jetstream.flash.token),1)):w("",!0)]),footer:a(()=>[r(B,{onClick:e[2]||(e[2]=l=>u.value=!1)},{default:a(()=>e[17]||(e[17]=[c(" Close ")])),_:1})]),_:1},8,["show"]),r(F,{show:g.value!=null,onClose:e[6]||(e[6]=l=>g.value=null)},{title:a(()=>e[18]||(e[18]=[c(" API Token Permissions ")])),content:a(()=>[s("div",Ve,[(i(!0),d(P,null,T(o.availablePermissions,l=>(i(),d("div",{key:l},[s("label",Me,[r(j,{checked:f(m).permissions,"onUpdate:checked":e[4]||(e[4]=$=>f(m).permissions=$),value:l},null,8,["checked","value"]),s("span",De,h(l),1)])]))),128))])]),footer:a(()=>[r(B,{onClick:e[5]||(e[5]=l=>g.value=null)},{default:a(()=>e[19]||(e[19]=[c(" Cancel ")])),_:1}),r(D,{class:C(["ms-3",{"opacity-25":f(m).processing}]),disabled:f(m).processing,onClick:x},{default:a(()=>e[20]||(e[20]=[c(" Save ")])),_:1},8,["class","disabled"])]),_:1},8,["show"]),r(ne,{show:y.value!=null,onClose:e[8]||(e[8]=l=>y.value=null)},{title:a(()=>e[21]||(e[21]=[c(" Delete API Token ")])),content:a(()=>e[22]||(e[22]=[c(" Are you sure you would like to delete this API token? ")])),footer:a(()=>[r(B,{onClick:e[7]||(e[7]=l=>y.value=null)},{default:a(()=>e[23]||(e[23]=[c(" Cancel ")])),_:1}),r(ie,{class:C(["ms-3",{"opacity-25":f(n).processing}]),disabled:f(n).processing,onClick:H},{default:a(()=>e[24]||(e[24]=[c(" Delete ")])),_:1},8,["class","disabled"])]),_:1},8,["show"])]))}};export{Qe as default};
