var k=Object.defineProperty;var A=(s,o,t)=>o in s?k(s,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[o]=t;var f=(s,o,t)=>A(s,typeof o!="symbol"?o+"":o,t);import{C as I,z as M,A as C,c as L,w as e,o as d,E as i,a as m,B as c,F as D,G as F,D as O,b as r,aw as P,H as p}from"./app-D4do6SPm.js";import{A as $}from"./ActionMessage-CWwPCJqz.js";import{A as N,V as S}from"./ActionSection-DEnmMgKP.js";import{t as j,d as x,b as T,C as U,V as K,a as y,_ as E}from"./_plugin-vue_export-helper-CFsRs_PN.js";import{V as h}from"./VTextField-DxPf1aFi.js";import{V as v,a as V}from"./VRow-CpG1yRc5.js";import{j as z}from"./VAvatar-Bg5ilFUs.js";import"./VField-DK4ipqlY.js";import"./forwardRefs-DvBWcYN4.js";import"./VOverlay-CZgdwhL6.js";import"./SectionTitle-CdCxXf3-.js";import"./VContainer-DSl5-3wa.js";/* empty css              */import"./VCard-CWuaa-a7.js";var G=Object.defineProperty,H=Object.getOwnPropertyDescriptor,B=(s,o,t,l)=>{for(var a=l>1?void 0:l?H(o,t):o,g=s.length-1,u;g>=0;g--)(u=s[g])&&(a=(l?u(o,t,a):u(a))||a);return l&&a&&G(o,t,a),a};let w=class extends K{constructor(){super(...arguments);f(this,"sessions");f(this,"confirmingLogout",!1);f(this,"passwordInput");f(this,"form",I({password:""}))}confirmLogout(){this.confirmingLogout=!0,setTimeout(()=>this.passwordInput.focus(),250)}async logoutOtherBrowserSessions(){let t=route("other-browser-sessions.destroy");try{let l=await M.delete(t,{data:this.form});this.closeModal()}catch{this.passwordInput.focus()}finally{this.form.reset()}}closeModal(){this.confirmingLogout=!1,this.form.reset()}};B([x(Array)],w.prototype,"sessions",2);B([T("passwordInput")],w.prototype,"passwordInput",2);w=B([U({components:{ActionMessage:$,ActionSection:N,VDialog:S,VTextField:h,VBtn:y,VRow:v,VCol:V}})],w);const R=j(w),q={key:0,class:"mt-5 space-y-4"},J={class:"text-body-1 text-sm"},Q={key:0,class:"text-green-500 font-semibold"},W={key:1},X={class:"flex items-center mt-5"},Y={key:0,class:"text-red-500 text-sm mt-2"},Z={class:"mt-4 flex justify-end"};function oo(s,o,t,l,a,g){const u=C("ActionMessage"),_=C("ActionSection");return d(),L(_,null,{title:e(()=>o[2]||(o[2]=[i("Browser Sessions")])),description:e(()=>o[3]||(o[3]=[i(" Manage and log out your active sessions on other browsers and devices. ")])),content:e(()=>[o[10]||(o[10]=m("p",{class:"text-body-1"}," If necessary, you may log out of all other browser sessions. Some recent sessions are listed below. ",-1)),s.sessions.length?(d(),c("div",q,[(d(!0),c(D,null,F(s.sessions,(n,b)=>(d(),L(v,{key:b,class:"items-center"},{default:e(()=>[r(V,{cols:"1"},{default:e(()=>[r(z,null,{default:e(()=>[i(p(n.agent.is_desktop?"mdi-monitor":"mdi-cellphone"),1)]),_:2},1024)]),_:2},1024),r(V,{cols:"11"},{default:e(()=>[m("p",null,p(n.agent.platform||"Unknown")+" - "+p(n.agent.browser||"Unknown"),1),m("p",J,[i(p(n.ip_address)+" ",1),n.is_current_device?(d(),c("span",Q,"(This device)")):(d(),c("span",W,"Last active "+p(n.last_active),1))])]),_:2},1024)]),_:2},1024))),128))])):O("",!0),m("div",X,[r(y,{color:"primary",onClick:s.confirmLogout},{default:e(()=>o[4]||(o[4]=[i("Log Out Other Browser Sessions")])),_:1},8,["onClick"]),r(u,{on:s.form.recentlySuccessful,class:"ms-3"},{default:e(()=>o[5]||(o[5]=[i("Done.")])),_:1},8,["on"])]),r(S,{modelValue:s.confirmingLogout,"onUpdate:modelValue":o[1]||(o[1]=n=>s.confirmingLogout=n),"max-width":"500px"},{default:e(()=>[r(v,{class:"p-4"},{default:e(()=>[r(V,null,{default:e(()=>[o[8]||(o[8]=m("h3",null,"Log Out Other Browser Sessions",-1)),o[9]||(o[9]=m("p",{class:"mt-2"},"Please enter your password to confirm.",-1)),r(h,{ref:"passwordInput",modelValue:s.form.password,"onUpdate:modelValue":o[0]||(o[0]=n=>s.form.password=n),label:"Password",type:"password",autocomplete:"current-password",variant:"outlined",class:"mt-4",onKeyup:P(s.logoutOtherBrowserSessions,["enter"])},null,8,["modelValue","onKeyup"]),s.form.errors.password?(d(),c("p",Y,p(s.form.errors.password),1)):O("",!0),m("div",Z,[r(y,{variant:"text",onClick:s.closeModal},{default:e(()=>o[6]||(o[6]=[i("Cancel")])),_:1},8,["onClick"]),r(y,{color:"primary",loading:s.form.processing,onClick:s.logoutOtherBrowserSessions,class:"ms-3"},{default:e(()=>o[7]||(o[7]=[i(" Log Out ")])),_:1},8,["loading","onClick"])])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}const Vo=E(R,[["render",oo]]);export{Vo as default};
