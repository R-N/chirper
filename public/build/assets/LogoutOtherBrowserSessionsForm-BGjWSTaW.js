var k=Object.defineProperty;var A=(s,o,t)=>o in s?k(s,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[o]=t;var f=(s,o,t)=>A(s,typeof o!="symbol"?o+"":o,t);import{C as I,A as B,c as O,w as e,o as l,E as i,a as m,B as c,F as M,G as D,D as C,b as r,aw as F,H as p}from"./app-DrYLPU_X.js";import{A as P}from"./ActionMessage-B1OvaZe4.js";import{A as $,V as L}from"./ActionSection-45LSTfNX.js";import{t as N,d as j,b as x,C as T,V as U,a as y,_ as K}from"./_plugin-vue_export-helper-BUg55JK2.js";import{p as E}from"./profile-Cnk1t6Cc.js";import{V as h}from"./VTextField-GCQIZL8v.js";import{V as v,a as V}from"./VRow-DvkPIYWF.js";import{j as G}from"./VAvatar-CGwUysPS.js";import"./VField-C66dwn1o.js";import"./forwardRefs-DiIHdaJ1.js";import"./VOverlay-p4zMJbXj.js";import"./SectionTitle-C2PNohfj.js";import"./VContainer-eLTv4ox0.js";/* empty css              */import"./VCard-Dz8tKv04.js";var H=Object.defineProperty,R=Object.getOwnPropertyDescriptor,S=(s,o,t,d)=>{for(var a=d>1?void 0:d?R(o,t):o,g=s.length-1,u;g>=0;g--)(u=s[g])&&(a=(d?u(o,t,a):u(a))||a);return d&&a&&H(o,t,a),a};let w=class extends U{constructor(){super(...arguments);f(this,"sessions");f(this,"confirmingLogout",!1);f(this,"passwordInput");f(this,"form",I({password:""}))}confirmLogout(){this.confirmingLogout=!0,setTimeout(()=>this.passwordInput.focus(),250)}async logoutOtherBrowserSessions(){try{let t=await E.logoutOtherBrowserSessions(this.form);this.closeModal()}catch{this.passwordInput.focus()}finally{this.form.reset()}}closeModal(){this.confirmingLogout=!1,this.form.reset()}};S([j(Array)],w.prototype,"sessions",2);S([x("passwordInput")],w.prototype,"passwordInput",2);w=S([T({components:{ActionMessage:P,ActionSection:$,VDialog:L,VTextField:h,VBtn:y,VRow:v,VCol:V}})],w);const q=N(w),z={key:0,class:"mt-5 space-y-4"},J={class:"text-body-1 text-sm"},Q={key:0,class:"text-green-500 font-semibold"},W={key:1},X={class:"flex items-center mt-5"},Y={key:0,class:"text-red-500 text-sm mt-2"},Z={class:"mt-4 flex justify-end"};function oo(s,o,t,d,a,g){const u=B("ActionMessage"),_=B("ActionSection");return l(),O(_,null,{title:e(()=>o[2]||(o[2]=[i("Browser Sessions")])),description:e(()=>o[3]||(o[3]=[i(" Manage and log out your active sessions on other browsers and devices. ")])),content:e(()=>[o[10]||(o[10]=m("p",{class:"text-body-1"}," If necessary, you may log out of all other browser sessions. Some recent sessions are listed below. ",-1)),s.sessions.length?(l(),c("div",z,[(l(!0),c(M,null,D(s.sessions,(n,b)=>(l(),O(v,{key:b,class:"items-center"},{default:e(()=>[r(V,{cols:"1"},{default:e(()=>[r(G,null,{default:e(()=>[i(p(n.agent.is_desktop?"mdi-monitor":"mdi-cellphone"),1)]),_:2},1024)]),_:2},1024),r(V,{cols:"11"},{default:e(()=>[m("p",null,p(n.agent.platform||"Unknown")+" - "+p(n.agent.browser||"Unknown"),1),m("p",J,[i(p(n.ip_address)+" ",1),n.is_current_device?(l(),c("span",Q,"(This device)")):(l(),c("span",W,"Last active "+p(n.last_active),1))])]),_:2},1024)]),_:2},1024))),128))])):C("",!0),m("div",X,[r(y,{color:"primary",onClick:s.confirmLogout},{default:e(()=>o[4]||(o[4]=[i("Log Out Other Browser Sessions")])),_:1},8,["onClick"]),r(u,{on:s.form.recentlySuccessful,class:"ms-3"},{default:e(()=>o[5]||(o[5]=[i("Done.")])),_:1},8,["on"])]),r(L,{modelValue:s.confirmingLogout,"onUpdate:modelValue":o[1]||(o[1]=n=>s.confirmingLogout=n),"max-width":"500px"},{default:e(()=>[r(v,{class:"p-4"},{default:e(()=>[r(V,null,{default:e(()=>[o[8]||(o[8]=m("h3",null,"Log Out Other Browser Sessions",-1)),o[9]||(o[9]=m("p",{class:"mt-2"},"Please enter your password to confirm.",-1)),r(h,{ref:"passwordInput",modelValue:s.form.password,"onUpdate:modelValue":o[0]||(o[0]=n=>s.form.password=n),label:"Password",type:"password",autocomplete:"current-password",variant:"outlined",class:"mt-4",onKeyup:F(s.logoutOtherBrowserSessions,["enter"])},null,8,["modelValue","onKeyup"]),s.form.errors.password?(l(),c("p",Y,p(s.form.errors.password),1)):C("",!0),m("div",Z,[r(y,{variant:"text",onClick:s.closeModal},{default:e(()=>o[6]||(o[6]=[i("Cancel")])),_:1},8,["onClick"]),r(y,{color:"primary",loading:s.form.processing,onClick:s.logoutOtherBrowserSessions,class:"ms-3"},{default:e(()=>o[7]||(o[7]=[i(" Log Out ")])),_:1},8,["loading","onClick"])])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}const vo=K(q,[["render",oo]]);export{vo as default};
