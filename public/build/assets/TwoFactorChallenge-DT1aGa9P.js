var $=Object.defineProperty;var T=(e,o,r)=>o in e?$(e,o,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[o]=r;var l=(e,o,r)=>T(e,typeof o!="symbol"?o+"":o,r);import{C as A,q as L,i as B,W as x,m as j,j as a,e as c,b as t,w as _,F as u,o as i,a as v,g as p,k as I,n as E}from"./app-DCXzMWXa.js";import{A as F}from"./AuthenticationCard-BJAB0rVq.js";import{_ as N}from"./AuthenticationCardLogo-CuFhOLyg.js";import{_ as O}from"./InputError-BJCQ_2OS.js";import{_ as R}from"./InputLabel-rm7JmSlO.js";import{_ as U}from"./PrimaryButton-CoZ8PQbO.js";import{_ as H}from"./TextInput-CoUy5fzm.js";import{t as D,a as w,C as W,V as q}from"./index-CSEC8W1N.js";import{_ as z}from"./_plugin-vue_export-helper-DlAUqK2U.js";var M=Object.defineProperty,S=Object.getOwnPropertyDescriptor,g=(e,o,r,m)=>{for(var n=m>1?void 0:m?S(o,r):o,y=e.length-1,d;y>=0;y--)(d=e[y])&&(n=(m?d(o,r,n):d(n))||n);return m&&n&&M(o,r,n),n};let f=class extends q{constructor(){super(...arguments);l(this,"recovery",!1);l(this,"form",A({code:"",recovery_code:""}));l(this,"recoveryCodeInput");l(this,"codeInput")}async toggleRecovery(){this.recovery=!this.recovery,await L(),this.recovery?(this.recoveryCodeInput.value.focus(),this.form.code=""):(this.codeInput.value.focus(),this.form.recovery_code="")}async submit(){let o=await B.post(route("two-factor.login"),this.form);x.visit(o.data.redirect||"/dashboard")}};g([w("recoveryCodeInput")],f.prototype,"recoveryCodeInput",2);g([w("codeInput")],f.prototype,"codeInput",2);f=g([W({components:{AuthenticationCard:F,AuthenticationCardLogo:N,InputError:O,InputLabel:R,PrimaryButton:U,TextInput:H,Head:j}})],f);const G=D(f),J={class:"mb-4 text-sm text-gray-600 dark:text-gray-400"},K={key:0},Q={key:1},X={class:"flex items-center justify-end mt-4"};function Y(e,o,r,m,n,y){const d=a("Head"),V=a("AuthenticationCardLogo"),C=a("InputLabel"),b=a("TextInput"),h=a("InputError"),k=a("PrimaryButton"),P=a("AuthenticationCard");return i(),c(u,null,[t(d,{title:"Two-factor Confirmation"}),t(P,null,{logo:_(()=>[t(V)]),default:_(()=>[v("div",J,[e.recovery?(i(),c(u,{key:1},[p(" Please confirm access to your account by entering one of your emergency recovery codes. ")],64)):(i(),c(u,{key:0},[p(" Please confirm access to your account by entering the authentication code provided by your authenticator application. ")],64))]),v("form",{onSubmit:o[3]||(o[3]=I((...s)=>e.submit&&e.submit(...s),["prevent"]))},[e.recovery?(i(),c("div",Q,[t(C,{for:"recovery_code",value:"Recovery Code"}),t(b,{id:"recovery_code",ref:"recoveryCodeInput",modelValue:e.form.recovery_code,"onUpdate:modelValue":o[1]||(o[1]=s=>e.form.recovery_code=s),type:"text",class:"mt-1 block w-full",autocomplete:"one-time-code"},null,8,["modelValue"]),t(h,{class:"mt-2",message:e.form.errors.recovery_code},null,8,["message"])])):(i(),c("div",K,[t(C,{for:"code",value:"Code"}),t(b,{id:"code",ref:"codeInput",modelValue:e.form.code,"onUpdate:modelValue":o[0]||(o[0]=s=>e.form.code=s),type:"text",inputmode:"numeric",class:"mt-1 block w-full",autofocus:"",autocomplete:"one-time-code"},null,8,["modelValue"]),t(h,{class:"mt-2",message:e.form.errors.code},null,8,["message"])])),v("div",X,[v("button",{type:"button",class:"text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 underline cursor-pointer",onClick:o[2]||(o[2]=I((...s)=>e.toggleRecovery&&e.toggleRecovery(...s),["prevent"]))},[e.recovery?(i(),c(u,{key:1},[p(" Use an authentication code ")],64)):(i(),c(u,{key:0},[p(" Use a recovery code ")],64))]),t(k,{class:E(["ms-4",{"opacity-25":e.form.processing}]),disabled:e.form.processing},{default:_(()=>o[4]||(o[4]=[p(" Log in ")])),_:1},8,["class","disabled"])])],32)]),_:1})],64)}const me=z(G,[["render",Y]]);export{me as default};
