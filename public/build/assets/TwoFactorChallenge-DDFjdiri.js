var A=Object.defineProperty;var B=(o,e,t)=>e in o?A(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t;var u=(o,e,t)=>B(o,typeof e!="symbol"?e+"":e,t);import{C as E,v as $,W as x,I as N,A as y,B as n,b as r,w as a,F as p,o as i,E as d,a as O,J as h}from"./app-DrYLPU_X.js";import{I as U}from"./InputError-Bwl4ZAo1.js";import{_ as j}from"./AuthenticationCardLogo-DGiXKqyv.js";import{t as H,b as w,C as R,V as S,a as C,_ as D}from"./_plugin-vue_export-helper-BUg55JK2.js";import{a as W}from"./auth-DyhWbsp0.js";import{a as g}from"./VField-C66dwn1o.js";import{V as k}from"./VSpacer-DDbWmUAr.js";import{V as T,b as V,a as P,c as F}from"./VCard-Dz8tKv04.js";import{V as _}from"./VTextField-GCQIZL8v.js";import"./forwardRefs-DiIHdaJ1.js";import"./VAvatar-CGwUysPS.js";/* empty css              */var J=Object.defineProperty,M=Object.getOwnPropertyDescriptor,b=(o,e,t,c)=>{for(var s=c>1?void 0:c?M(e,t):e,v=o.length-1,l;v>=0;v--)(l=o[v])&&(s=(c?l(e,t,s):l(s))||s);return c&&s&&J(e,t,s),s};let f=class extends S{constructor(){super(...arguments);u(this,"recovery",!1);u(this,"form",E({code:"",recovery_code:""}));u(this,"recoveryCodeInput");u(this,"codeInput")}async toggleRecovery(){this.recovery=!this.recovery,await $(),this.recovery?(this.recoveryCodeInput.value.focus(),this.form.code=""):(this.codeInput.value.focus(),this.form.recovery_code="")}async submit(){let e=await W.twoFactorLogin(this.form);x.visit(e.redirect||"/dashboard")}};b([w("recoveryCodeInput")],f.prototype,"recoveryCodeInput",2);b([w("codeInput")],f.prototype,"codeInput",2);f=b([R({components:{AuthenticationCardLogo:j,InputError:U,VCard:T,VCardText:V,VCardTitle:P,VCardActions:F,VTextField:_,VLabel:g,VBtn:C,VSpacer:k,Head:N}})],f);const q=H(f),z={key:0},G={key:1};function K(o,e,t,c,s,v){const l=y("Head"),L=y("AuthenticationCardLogo"),I=y("InputError");return i(),n(p,null,[r(l,{title:"Two-factor Confirmation"}),r(T,{class:"mx-auto","max-width":"400",variant:"elevated",elevation:"6"},{default:a(()=>[r(P,{class:"text-center"},{default:a(()=>[r(L)]),_:1}),r(V,{class:"text-gray-600 dark:text-gray-400"},{default:a(()=>[o.recovery?(i(),n(p,{key:1},[d(" Please confirm access to your account by entering one of your emergency recovery codes. ")],64)):(i(),n(p,{key:0},[d(" Please confirm access to your account by entering the authentication code provided by your authenticator application. ")],64))]),_:1}),r(V,null,{default:a(()=>[O("form",{onSubmit:e[2]||(e[2]=h((...m)=>o.submit&&o.submit(...m),["prevent"]))},[o.recovery?(i(),n("div",G,[r(g,{for:"recovery_code"},{default:a(()=>e[4]||(e[4]=[d("Recovery Code")])),_:1}),r(_,{id:"recovery_code",ref:"recoveryCodeInput",modelValue:o.form.recovery_code,"onUpdate:modelValue":e[1]||(e[1]=m=>o.form.recovery_code=m),type:"text",variant:"outlined",autocomplete:"one-time-code"},null,8,["modelValue"]),r(I,{class:"mt-2",message:o.form.errors.recovery_code},null,8,["message"])])):(i(),n("div",z,[r(g,{for:"code"},{default:a(()=>e[3]||(e[3]=[d("Code")])),_:1}),r(_,{id:"code",ref:"codeInput",modelValue:o.form.code,"onUpdate:modelValue":e[0]||(e[0]=m=>o.form.code=m),type:"text",inputmode:"numeric",variant:"outlined",autocomplete:"one-time-code",autofocus:""},null,8,["modelValue"]),r(I,{class:"mt-2",message:o.form.errors.code},null,8,["message"])]))],32)]),_:1}),r(F,{class:"d-flex justify-end"},{default:a(()=>[r(C,{variant:"text",onClick:h(o.toggleRecovery,["prevent"])},{default:a(()=>[o.recovery?(i(),n(p,{key:1},[d("Use an authentication code")],64)):(i(),n(p,{key:0},[d("Use a recovery code")],64))]),_:1},8,["onClick"]),r(k),r(C,{color:"primary",variant:"elevated",loading:o.form.processing,onClick:o.submit},{default:a(()=>e[5]||(e[5]=[d(" Log in ")])),_:1},8,["loading","onClick"])]),_:1})]),_:1})],64)}const ce=D(q,[["render",K]]);export{ce as default};
