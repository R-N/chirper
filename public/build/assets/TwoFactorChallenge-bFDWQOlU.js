var E=Object.defineProperty;var F=(o,e,t)=>e in o?E(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t;var m=(o,e,t)=>F(o,typeof e!="symbol"?e+"":e,t);import{C as L,v as $,z as x,W as N,I as O,A as y,B as n,b as r,w as a,F as p,o as i,E as d,a as U,J as h}from"./app-D4do6SPm.js";import{I as j}from"./InputError-BUPxf3yf.js";import{_ as H}from"./AuthenticationCardLogo-BWkSLA8f.js";import{t as R,b as w,C as D,V as S,a as C,_ as W}from"./_plugin-vue_export-helper-CFsRs_PN.js";import{a as g}from"./VField-DK4ipqlY.js";import{V as k}from"./VSpacer-BnuuF7OK.js";import{V as T,b as V,a as P,c as A}from"./VCard-CWuaa-a7.js";import{V as _}from"./VTextField-DxPf1aFi.js";import"./forwardRefs-DvBWcYN4.js";import"./VAvatar-Bg5ilFUs.js";/* empty css              */var z=Object.defineProperty,J=Object.getOwnPropertyDescriptor,b=(o,e,t,c)=>{for(var s=c>1?void 0:c?J(e,t):e,v=o.length-1,l;v>=0;v--)(l=o[v])&&(s=(c?l(e,t,s):l(s))||s);return c&&s&&z(e,t,s),s};let f=class extends S{constructor(){super(...arguments);m(this,"recovery",!1);m(this,"form",L({code:"",recovery_code:""}));m(this,"recoveryCodeInput");m(this,"codeInput")}async toggleRecovery(){this.recovery=!this.recovery,await $(),this.recovery?(this.recoveryCodeInput.value.focus(),this.form.code=""):(this.codeInput.value.focus(),this.form.recovery_code="")}async submit(){let e=await x.post(route("two-factor.login"),this.form);N.visit(e.data.redirect||"/dashboard")}};b([w("recoveryCodeInput")],f.prototype,"recoveryCodeInput",2);b([w("codeInput")],f.prototype,"codeInput",2);f=b([D({components:{AuthenticationCardLogo:H,InputError:j,VCard:T,VCardText:V,VCardTitle:P,VCardActions:A,VTextField:_,VLabel:g,VBtn:C,VSpacer:k,Head:O}})],f);const M=R(f),q={key:0},G={key:1};function K(o,e,t,c,s,v){const l=y("Head"),B=y("AuthenticationCardLogo"),I=y("InputError");return i(),n(p,null,[r(l,{title:"Two-factor Confirmation"}),r(T,{class:"mx-auto","max-width":"400",variant:"elevated",elevation:"6"},{default:a(()=>[r(P,{class:"text-center"},{default:a(()=>[r(B)]),_:1}),r(V,{class:"text-gray-600 dark:text-gray-400"},{default:a(()=>[o.recovery?(i(),n(p,{key:1},[d(" Please confirm access to your account by entering one of your emergency recovery codes. ")],64)):(i(),n(p,{key:0},[d(" Please confirm access to your account by entering the authentication code provided by your authenticator application. ")],64))]),_:1}),r(V,null,{default:a(()=>[U("form",{onSubmit:e[2]||(e[2]=h((...u)=>o.submit&&o.submit(...u),["prevent"]))},[o.recovery?(i(),n("div",G,[r(g,{for:"recovery_code"},{default:a(()=>e[4]||(e[4]=[d("Recovery Code")])),_:1}),r(_,{id:"recovery_code",ref:"recoveryCodeInput",modelValue:o.form.recovery_code,"onUpdate:modelValue":e[1]||(e[1]=u=>o.form.recovery_code=u),type:"text",variant:"outlined",autocomplete:"one-time-code"},null,8,["modelValue"]),r(I,{class:"mt-2",message:o.form.errors.recovery_code},null,8,["message"])])):(i(),n("div",q,[r(g,{for:"code"},{default:a(()=>e[3]||(e[3]=[d("Code")])),_:1}),r(_,{id:"code",ref:"codeInput",modelValue:o.form.code,"onUpdate:modelValue":e[0]||(e[0]=u=>o.form.code=u),type:"text",inputmode:"numeric",variant:"outlined",autocomplete:"one-time-code",autofocus:""},null,8,["modelValue"]),r(I,{class:"mt-2",message:o.form.errors.code},null,8,["message"])]))],32)]),_:1}),r(A,{class:"d-flex justify-end"},{default:a(()=>[r(C,{variant:"text",onClick:h(o.toggleRecovery,["prevent"])},{default:a(()=>[o.recovery?(i(),n(p,{key:1},[d("Use an authentication code")],64)):(i(),n(p,{key:0},[d("Use a recovery code")],64))]),_:1},8,["onClick"]),r(k),r(C,{color:"primary",variant:"elevated",loading:o.form.processing,onClick:o.submit},{default:a(()=>e[5]||(e[5]=[d(" Log in ")])),_:1},8,["loading","onClick"])]),_:1})]),_:1})],64)}const de=W(M,[["render",K]]);export{de as default};
